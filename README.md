# 금융 초보자를 위한 교육용 방탈출게임 '영앤리치' 서버
## 개요
2024년 1학기 이화여자대학교 도전학기 17기 참가팀 AWS의 프로젝트를 위한 스프링 부트 REST API 서버<br>
금융경제 지식이 부족한 사회초년생을 위한 방탈출 형식의 싱글 플레이 게임 "영앤리치"

## 게임 스토리
당신은 위대한 경제학자이자 투자자인 알렉산더 밀턴의 직계후손입니다.<br>
당신의 가문에는, 알렉산더가 주식 투자로 벌어들인 막대한 양의 재산을 비밀 사무실의 금고 안에 보관하였다는 전설이 전해져 내려옵니다. 하지만 비밀 사무실의 위치는 아무도 알지 못합니다.<br>
당신은 오랜 노력 끝에 마침내, 할아버지의 오래된 사무실에 도착했습니다. 방에 들어간 순간, 방문이 신비한 힘으로 인해 잠기고 맙니다. 이제 당신은 금고를 열어, 그 안에 무엇이 있는지 확인해야만 방에서 나갈 수 있습니다.<br>
이 과정에서 당신은 주식 시장의 작동 원리를 파악하고, 할아버지의 투자 철학을 이해해야만 합니다.


## 개발 진행 기간
2024.06.12 ~ 2024.06.17

## ERD
https://www.erdcloud.com/p/Xst64DW9jJFdaZDtp
![image](https://github.com/YoungNRich2024/YoungNRich_Server/assets/87855493/25fa46b4-db58-468b-857d-4f7863c97a9f)


## API 문서
https://documenter.getpostman.com/view/26477122/2sA3XQi32T

## 사용된 주요 기술
- Spring Boot
- JWT
- OAuth2 카카오로그인
- OpenAI API

## 기능 목록
### 1. 회원관리 기능
- 카카오로그인: OAuth2 사용. 카카오회원 ID(고유번호), 닉네임, 프로필 사진을 받아옴.
  - 최초 로그인 시
    - 카카오회원 ID를 기준으로 회원 대조. DB에 존재하지 않는 새로운 유저일 경우 새로운 회원 데이터 생성하여 카카오회원 ID(고유번호), 닉네임, 프로필 사진을 저장.
    - Access Token과 Refresh Token 발행.
  - 2번째 로그인부터
    - 카카오회원 ID를 기준으로 회원 대조. DB에 존재하는 회원일 경우 자체 Access Token 및 Refresh Token을 발급하여 로그인만 진행.
  - Refresh Token을 이용한 Access Token 재발급.
    - 해당 Refresh Token이 유효하다면 Access Token을 새로 발급하여 응답.
- 회원의 프로필 닉네임 수정
- 로그아웃: 해당 사용자에게 부여된 Refresh Token을 서버 DB에서 삭제.
- 회원정보 조회: 회원정보 테이블에 있는 해당 사용자의 모든 필드를 클라이언트에게 응답.
### 2. 중간저장 관련 기능
- 진행상황 유무 확인: 메인 화면에서 '불러오기' 버튼을 활성화할지 여부를 정하기 위한 API.
- 진행상황 불러오기: 중간저장 데이터 테이블에 있는 해당 사용자의 중간저장 데이터의 모든 필드를 클라이언트에게 응답.
- 중간저장 수행
  - 퍼즐1 해결완료
  - 퍼즐2 해결완료
  - 열쇠 습득
  - 열쇠 사용
  - 퍼즐3 해결완료
  - 투자성향 테스트 완료
- 새 게임 시작: 해당 사용자의 중간저장 데이터를 초기화.
- 게임 중단: 중단 시 플레이 중이었던 한 판의, 지금까지 소요된 플레이시간(초 단위)을 클라이언트로부터 받아옴.
### 3. 클리어 기록 관련 기능
- 게임 클리어: 해당 회원의 중간저장 데이터가 삭제되고, 완료기록 데이터를 새롭게 추가(완료기록 데이터는 이전 것을 삭제하지 않고 누적).
- 게임 클리어 내역 조회: 사용자의 모든 클리어 기록을 리스트로 클라이언트에게 전달.
### 4. 랭킹 관련 기능
- 타임어택 랭킹 조회: 각 사용자의 클리어 기록 데이터를 탐색하여, 퍼즐4 해결까지 걸린 시간의 최솟값이 가장 짧은 순으로 데이터를 정렬하여 응답.
- 퍼즐5 수익률 랭킹 조회: 각 사용자의 클리어 기록 데이터를 탐색하여, 퍼즐5의 결과(최종 소지금액)의 최댓값이 가장 큰 순으로 데이터를 정렬하여 응답.
### 5. AI 챗봇 관련 기능
- 사용자가 선택한 키워드의 뜻에 대해 Chat GPT에게 질문하여, 그 답을 클라이언트에게 응답.
